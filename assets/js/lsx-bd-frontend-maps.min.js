!function(e,a,o){"use strict";LSX_BD.maps=Object.create(null),LSX_BD.maps.init=function(){if(LSX_BD.maps.element=jQuery(".lsx-bd-map"),0<LSX_BD.maps.element.length)if(LSX_BD.maps.element.find("iframe").hover(function(){e(o).bind("mousewheel DOMMouseScroll",function(){LSX_BD.maps.stopWheel()})},function(){e(o).unbind("mousewheel DOMMouseScroll")}),"undefined"!=typeof google&&"object"==typeof google.maps)LSX_BD.maps.initMap();else a.setTimeout(LSX_BD.maps.pollForMap,500)},LSX_BD.maps.stopWheel=function(e){e||(e=a.event,console.log(e)),e.preventDefault&&e.preventDefault(),e.returnValue=!1},LSX_BD.maps.initMap=function(){var e=LSX_BD.maps.element.data("search");LSX_BD.maps.markers=[],LSX_BD.maps.map=new google.maps.Map(LSX_BD.maps.element.eq(0)[0],{zoom:8,scrollwheel:!1}),LSX_BD.maps.element.addClass("map-loading"),LSX_BD.log("Map Element",!1,LSX_BD.maps.element),LSX_BD.log("Google Map Element",!1,LSX_BD.maps.map),LSX_BD.log("Map data-search",e),new google.maps.places.PlacesService(LSX_BD.maps.map).textSearch({query:e},function(e,a){if(LSX_BD.log("Google Map Results",!1,e),LSX_BD.log("Google Map Status",!1,a),a==google.maps.places.PlacesServiceStatus.OK){var o=e[0].geometry.location;LSX_BD.maps.map.setCenter(o),LSX_BD.maps.map.setZoom(8),LSX_BD.maps.createMarker(e[0])}})},LSX_BD.maps.setMapCenterZoom=function(){if(LSX_BD.maps.markers.length){for(var e=new google.maps.LatLngBounds,a=0;a<LSX_BD.maps.markers.length;a++)e.extend(LSX_BD.maps.markers[a].getPosition());LSX_BD.maps.map.fitBounds(e),LSX_BD.maps.map.setZoom(8)}},LSX_BD.maps.pollForMap=function(){if("undefined"!=typeof google&&"object"==typeof google.maps)LSX_BD.maps.initMap();else a.setTimeout(LSX_BD.maps.pollForMap,500)},LSX_BD.maps.createMarker=function(e){var a=new google.maps.Marker({map:LSX_BD.maps.map,position:e.geometry.location});LSX_BD.maps.markers.push(a),google.maps.event.addListener(a,"click",function(){new google.maps.InfoWindow({content:e.formatted_address}).open(LSX_BD.maps.map,this)}),LSX_BD.maps.setMapCenterZoom()},LSX_BD.maps.watchMapTriggers=function(){LSX_BD.document.on("click",".lsx-bd-map-placeholder, .placeholder-text",function(e){jQuery.getScript(lsx_bd_maps_params.google_url,function(){LSX_BD.maps.init()})})},LSX_BD.document.ready(function(){LSX_BD.log("LSX BD Map Params",!1,lsx_bd_maps_params),"1"===lsx_bd_maps_params.debug?LSX_BD.maps.init():LSX_BD.maps.watchMapTriggers()})}(jQuery,window,document);