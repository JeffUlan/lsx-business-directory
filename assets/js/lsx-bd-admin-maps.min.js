var LSX_BD_GMAPS=Object.create(null);!function(m,e){"use strict";LSX_BD_GMAPS.document=m(e);var u=[];LSX_BD_GMAPS.init=function(){0<m(".cmb-type-google-map").length&&(m(".cmb-type-google-map").each(function(){LSX_BD_GMAPS.initializeMap(m(this))}),LSX_BD_GMAPS.watchRowActions())},LSX_BD_GMAPS.initializeMap=function(e){var o=e.find(".google-map-search"),t=e.find(".google-map"),n=e.find(".google-map-latitude"),a=e.find(".google-map-longitude"),i=new google.maps.LatLng(-33.9152193,18.3751927),g=5;console.log(o),0<n.val().length&&0<a.val().length&&(i=new google.maps.LatLng(n.val(),a.val()),g=17);var l={center:i,zoom:g},c=new google.maps.Map(t[0],l),r={map:c,draggable:!0,title:"Drag to set the exact location"},s=new google.maps.Marker(r);0<n.val().length&&0<a.val().length&&s.setPosition(i);var p=new google.maps.places.Autocomplete(o[0]);p.bindTo("bounds",c),google.maps.event.addListener(p,"place_changed",function(){var e=p.getPlace();e.geometry&&(e.geometry.viewport?c.fitBounds(e.geometry.viewport):(c.setCenter(e.geometry.location),c.setZoom(17)),s.setPosition(e.geometry.location),n.val(e.geometry.location.lat()),a.val(e.geometry.location.lng()))}),m(o).keypress(function(e){13===e.keyCode&&e.preventDefault()}),google.maps.event.addListener(s,"drag",function(){n.val(s.getPosition().lat()),a.val(s.getPosition().lng())}),u.push(c)},"undefined"!=typeof postboxes&&(postboxes.pbshow=function(){for(var e=u.length,o=0;o<e;o++){var t=u[o].getCenter();google.maps.event.trigger(u[o],"resize"),u[o].setCenter(t)}}),LSX_BD_GMAPS.watchRowActions=function(){m(".cmb-repeatable-group").on("cmb2_add_row",function(e,o){m(o).closest(".cmb-repeatable-group").find(".cmb-type-google-map").each(function(){LSX_BD_GMAPS.initializeMap(m(this))})})},LSX_BD_GMAPS.document.ready(function(){LSX_BD_GMAPS.init()})}(jQuery,(window,document));